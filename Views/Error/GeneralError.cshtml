@{
    ViewData["Title"] = "Hiba";
}

<style>
    body {
        background-color: #1e1e1e;
        color: #f1f1f1;
    }

    .container {
        margin-top: 30px;
    }

    .error-container {
        text-align: center;
    }

    .error-icon {
        font-size: 100px;
        color: #dc3545;
        margin-bottom: 20px;
    }

    .error-title {
        font-size: 36px;
        margin-bottom: 20px;
    }

    .error-message {
        font-size: 18px;
        margin-bottom: 20px;
    }

    .error-details {
        font-size: 16px;
        margin-bottom: 20px;
    }

    .error-email {
        font-size: 16px;
        margin-bottom: 20px;
    }

    .error-image {
        display: block;
        margin: 0 auto;
        max-width: 300px;
        height: auto;
        margin-bottom: 20px;
    }

    .btn-primary {
        background-color: #0056b3;
        border-color: #0056b3;
    }

        .btn-primary:hover {
            background-color: #004085;
            border-color: #003c7e;
        }
</style>

<div class="container">
    <div class="error-container">
        <div class="error-icon">
            <i class="fas fa-exclamation-triangle"></i>
        </div>
        <h1 class="error-title">Hiba történt! :(</h1>
        <p class="error-message">Sajnáljuk, de valami hiba történt az oldal feldolgozása közben.</p>
        <img src="~/pic/generror.svg" class="error-image" alt="Hiba kép" />
        <p class="error-details">Kérjük, próbálja meg később újra. Ha a probléma továbbra is fennáll, lépjen kapcsolatba velünk.</p>
        <p class="error-email">Hiba esetén írjon e-mailt az alábbi címre: <a href="mailto:eduschool@kopajler.hu">kristof@kopajler.hu</a> vagy küldjön egy hibajegyet.</p>
        <button class="btn btn-primary" onclick="sendErrorEmail()">Hibajegy küldése</button>
        <a href="/" class="btn btn-primary">Vissza a főoldalra</a>
    </div>
</div>

@section Scripts {
    <script>
        function sendErrorEmail() {
            fetch('/Error/SendErrorEmail', {
                method: 'POST'
            })
                .then(response => {
                    if (response.ok) {
                        alert('Hibajegy sikeresen elküldve!');
                    } else {
                        alert('Hiba történt a hibajegy küldése során.');
                    }
                })
                .catch(error => {
                    console.error('Hiba történt a hibajegy küldése során:', error);
                    alert('Hiba történt a hibajegy küldése során.');
                });
        }
    </script>
}